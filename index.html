 <!doctype html> <html lang="ja"> <meta charset="utf-8"> <title>乙4クイック復習（クリックで答え・進捗保存）</title> <meta name="viewport" content="width=device-width, initial-scale=1" /> <style> :root{--bg:#0f131a;--card:#151b24;--ink:#e8eef7;--muted:#9fb1cc;--acc:#5aa0ff} *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Yu Gothic",sans-serif} header{padding:14px 16px;border-bottom:1px solid #202735;display:flex;gap:12px;flex-wrap:wrap;align-items:center;position:sticky;top:0;background:rgba(15,19,26,.9);backdrop-filter:saturate(150%) blur(6px)} h1{font-size:16px;margin:0 8px 0 0;color:#dfe9f9} select,button,input[type=checkbox]+label{font-size:14px} select,button{background:#1a2230;color:var(--ink);border:1px solid #2a3649;border-radius:8px;padding:8px 10px} button{cursor:pointer} button:disabled{opacity:.5;cursor:not-allowed} main{padding:18px 16px;max-width:820px;margin:auto} .card{background:var(--card);border:1px solid #1e2836;border-radius:14px;padding:18px} .q{font-weight:600;font-size:18px;line-height:1.6} details{margin-top:10px;background:#101620;border:1px solid #1e2836;border-radius:10px} summary{list-style:none;padding:10px 14px;cursor:pointer;color:#d2e4ff} summary::-webkit-details-marker{display:none} .a{padding:12px 14px;border-top:1px solid #1e2836;color:#d6e6ff} .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:14px} .controls button{padding:10px 12px;border-radius:10px} .again{background:#2a1d12;color:#ffd8b0;border:1px solid #3a2a1a} .good{background:#13251d;color:#caffed;border:1px solid #163427} .next{background:#1f2a3a;border:1px solid #2a374c} .muted{color:var(--muted);font-size:13px} .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap} .stats{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap} .stat{background:#101620;border:1px solid #1e2836;border-radius:10px;padding:8px 10px;font-size:13px;color:#c8d8f2} .spacer{flex:1} .toggle{display:inline-flex;align-items:center;gap:6px} a{color:var(--acc);text-decoration:none} </style> <header> <h1>乙4クイック復習</h1> <div class="row"> <span class="muted">デッキ</span> <select id="deckSel"> <option value="all">All</option> <option value="day1">Day1 指定数量/定義</option> <option value="day2">Day2 共通特性/燃焼</option> </select> <button id="shuffleBtn">シャッフル</button> <span class="toggle"> <input id="unknownOnly" type="checkbox"> <label for="unknownOnly">未知のみ</label> </span> <div class="spacer"></div> <button id="resetBtn" title="既知フラグを全てクリア">進捗リセット</button> </div> </header>

<main> <div class="card"> <div id="q" class="q"></div> <details id="ansBox"><summary>答えを見る</summary><div id="a" class="a"></div></details> <div class="controls"> <button id="againBtn" class="again">もう一回</button> <button id="goodBtn" class="good">覚えた</button> <button id="prevBtn" class="next">← 前へ</button> <button id="nextBtn" class="next">次へ →</button> </div> <div class="stats"> <div class="stat" id="statIdx">1 / 1</div> <div class="stat" id="statKnown">既知: 0</div> <div class="stat" id="statUnknown">未知: 0</div> </div> </div> </main>

<script> const DECKS = { day1: [ {id:'d1-01', q:'危険物（消防法）とは？', a:'消防法別表第1に掲げる物品（指定数量以上が規制対象）。'}, {id:'d1-02', q:'乙4が扱う類は？', a:'第4類（引火性液体）。'}, {id:'d1-03', q:'特殊引火物の指定数量は？', a:'50 L。'}, {id:'d1-04', q:'第1石油類（非水溶性）の指定数量は？', a:'200 L。'}, {id:'d1-05', q:'第1石油類（水溶性）の指定数量は？', a:'400 L。'}, {id:'d1-06', q:'アルコール類の指定数量は？', a:'400 L。'}, {id:'d1-07', q:'第2石油類（非水溶性）の指定数量は？', a:'1,000 L。'}, {id:'d1-08', q:'第2石油類（水溶性）の指定数量は？', a:'2,000 L。'}, {id:'d1-09', q:'第3石油類（非水溶性）の指定数量は？', a:'2,000 L。'}, {id:'d1-10', q:'第3石油類（水溶性）の指定数量は？', a:'4,000 L。'}, {id:'d1-11', q:'第4石油類の指定数量は？', a:'6,000 L。'}, {id:'d1-12', q:'動植物油類の指定数量は？', a:'10,000 L。'}, {id:'d1-13', q:'第1〜3石油類の水溶性の扱いは？', a:'指定数量は非水溶性の2倍。'}, {id:'d1-14', q:'特殊引火物の定義は？', a:'発火点100℃以下、または 引火点−20℃以下かつ沸点40℃以下。'}, {id:'d1-15', q:'異なる類の指定数量の倍数はどう扱う？', a:'各「取扱量÷指定数量」を合算。'}, {id:'d1-16', q:'合算倍数が1以上なら？', a:'許可の対象（所管消防）。'}, {id:'d1-17', q:'危険物に気体は含まれる？', a:'含まれない（常温常圧で固体・液体）。'}, {id:'d1-18', q:'アルコール類の法令上の要旨は？', a:'炭素数1〜3の飽和一価アルコール。'}, {id:'d1-19', q:'少量危険物とは？', a:'指定数量の1/5以上〜未満（条例規制、地域差あり）。'}, {id:'d1-20', q:'指定数量の根拠法令は？', a:'消防法施行令 別表第一。'} ], day2: [ {id:'d2-01', q:'引火点とは？', a:'液体が可燃性蒸気を発し、外部の火源で一瞬燃える最低温度。'}, {id:'d2-02', q:'発火点とは？', a:'外部の火源なしで自ら燃え始める最低温度。'}, {id:'d2-03', q:'爆発下限界・上限界とは？', a:'可燃性蒸気と空気の混合気が爆発可能な濃度の下限・上限。'}, {id:'d2-04', q:'燃焼の定義は？', a:'熱と光の発生を伴う急激な酸化反応。'}, {id:'d2-05', q:'燃焼の三要素は？', a:'可燃物／酸素供給体／点火源。'}, {id:'d2-06', q:'消火の四要素は？', a:'冷却／窒息／除去／抑制。'}, {id:'d2-07', q:'表面燃焼の例は？', a:'木炭、コークス。'}, {id:'d2-08', q:'分解燃焼の例は？', a:'木材、プラスチック（熱分解で出た可燃ガスが燃える）。'}, {id:'d2-09', q:'内部燃焼の例は？', a:'ニトロセルロース等（自己反応）。'}, {id:'d2-10', q:'蒸発燃焼の例は？', a:'ガソリン、アルコール（蒸発した蒸気が燃える）。'}, {id:'d2-11', q:'完全燃焼と不完全燃焼の違いは？', a:'完全＝CO₂主体／不完全＝酸素不足でCO。'}, {id:'d2-12', q:'水の主な消火効果は？', a:'冷却（高い比熱・蒸発熱）。'}, {id:'d2-13', q:'泡消火剤の主効果は？', a:'窒息（燃焼面を覆う）＋冷却。'}, {id:'d2-14', q:'二酸化炭素消火剤の主効果は？', a:'窒息（酸素希釈）／電気を通しにくい。'}, {id:'d2-15', q:'粉末消火剤の主効果は？', a:'窒息＋抑制。'}, {id:'d2-16', q:'水が不適な典型例は？', a:'油火災（液体が浮いて拡大）。'}, {id:'d2-17', q:'水溶性液体の消火の注意は？', a:'水溶性液体用泡を用いる（通常の泡は溶けやすい）。'}, {id:'d2-18', q:'第4類で静電気対策が重要な理由は？', a:'不良導体が多く帯電→放電火花が点火源になり得る。'}, {id:'d2-19', q:'蒸気の排気口を高所に設ける理由？', a:'拡散・希釈を促し危険濃度を避けるため。'}, {id:'d2-20', q:'第1〜第4石油類の引火点境界は？', a:'21未満／21〜70未満／70〜200未満／200〜250未満（℃）。'} ] }; const STORAGE_KEY='otsu4_known_v1';

const qEl = document.getElementById('q'); const aEl = document.getElementById('a'); const ansBox = document.getElementById('ansBox'); const deckSel = document.getElementById('deckSel'); const shuffleBtn = document.getElementById('shuffleBtn'); const unknownOnly = document.getElementById('unknownOnly'); const againBtn = document.getElementById('againBtn'); const goodBtn = document.getElementById('goodBtn'); const prevBtn = document.getElementById('prevBtn'); const nextBtn = document.getElementById('nextBtn'); const statIdx = document.getElementById('statIdx'); const statKnown = document.getElementById('statKnown'); const statUnknown = document.getElementById('statUnknown'); const resetBtn = document.getElementById('resetBtn');

let known = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]')); let current = []; let idx = 0;

function getAllCards(){ return [...DECKS.day1, ...DECKS.day2]; } function filtered(){ const mode = deckSel.value; let cards = mode==='day1' ? [...DECKS.day1] : mode==='day2' ? [...DECKS.day2] : getAllCards(); if(unknownOnly.checked){ cards = cards.filter(c=>!known.has(c.id)); } return cards; } function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } } function loadDeck(){ current = filtered(); if(current.length=0){ qEl.textContent = 'カードがありません（すべて既知かも）。「未知のみ」を外すか、進捗をリセットしてください。'; aEl.textContent = ''; ansBox.open=false; updateStats(); return; } if(idx>=current.length) idx=0; render(); updateStats(); } function render(){ const c=current[idx]; if(!c)return; qEl.textContent=c.q; aEl.textContent=c.a; ansBox.open=false; statIdx.textContent=${idx+1} / ${current.length}; } function updateStats(){ const totalAll=getAllCards().length; statKnown.textContent=既知: ${known.size} / ${totalAll}; statUnknown.textContent=未知: ${totalAll-known.size} / ${totalAll}; } function saveKnown(){ localStorage.setItem(STORAGE_KEY, JSON.stringify([...known])); updateStats(); } againBtn.onclick=()=>{ const c=current[idx]; if(c){ known.delete(c.id); saveKnown(); } idx=(idx+1)%current.length; render(); }; goodBtn.onclick=()=>{ const c=current[idx]; if(c){ known.add(c.id); saveKnown(); } idx=(idx+1)%current.length; loadDeck(); }; prevBtn.onclick=()=>{ if(current.length=0)return; idx=(idx-1+current.length)%current.length; render(); }; nextBtn.onclick=()=>{ if(current.length=0)return; idx=(idx+1)%current.length; render(); }; shuffleBtn.onclick=()=>{ shuffle(current); idx=0; render(); }; deckSel.onchange=()=>{ idx=0; loadDeck(); }; unknownOnly.onchange=()=>{ idx=0; loadDeck(); }; resetBtn.onclick=()=>{ if(confirm('既知フラグを全てクリアしますか？')){ known.clear(); saveKnown(); loadDeck(); } }; window.addEventListener('keydown',(e)=>{ if(e.key='ArrowRight')nextBtn.click(); if(e.key==='ArrowLeft')prevBtn.click(); if(e.key===' '){ e.preventDefault(); ansBox.open=!ansBox.open; } }); loadDeck(); </script>

<footer style="padding:18px;color:#7f94b8;font-size:12px;text-align:center"> 出典：消防法施行令 別表第一（指定数量・定義）/ e-Gov、試験範囲 / 消防試験研究センター。 </footer> </html>
